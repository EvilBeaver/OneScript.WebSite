---
outline: [2, 3]
---

# Установка и запуск

OneScript является кроссплатформенной разработкой на базе .NET. Он существует в версиях для Windows, Linux, MacOS. На данный момент, используется версия платформы .NET8

Установить его можно с помощью универсального [менеджера версий OVM](https://github.com/oscript-library/ovm) (рекомендуется), либо вручную, скачав подходящий дистрибутив.

## Менеджер версий {#ovm}

Менеджер версий OVM это консольная утилита, предназначенная для установки, удобного переключения между версиями, обновления версий движка OneScript. Настоятельно рекомендуется использовать для установки именно `ovm`.

::: info Обратите внимание
OVM требует для работы установленный .NET 4.8 или Mono версии 6+
:::

### Установка OVM

Специализированной установки не требуется, достаточно просто [скачать файл ovm.exe](https://github.com/oscript-library/ovm/releases/latest) и запустить его. Рекомендуется прописать путь к ovm в переменной PATH.
Стоит также помнить, что на Linux и MacOS выполнение осуществляется через Mono, поэтому запуск выполняется с помощью команды `mono ovm.exe`.

::: tip Совет
OVM по умолчанию устанавливает приложения в каталог `ovm` внутри домашней директории пользователя. Если вы хотите изменить место установки версий OneScript, создайте переменную окружения `OVM_INSTALL_PATH `, где укажите ваш каталог размещения версий.
:::

### Установка OneScript

Установка выполняется в 2 шага. Сначала мы устанавливаем версию, потом активируем ее. Активная версия OneScript это та, с который вы планируете работать. Версия остается активной до тех пор, пока вы не решите переключиться на какую-то другую.

Версии идентифицируются по номерам, либо по псевдонимам. Псевдоним это условное имя версии - "стабильная", "тестовая" и т.п.

#### Установка стабильной версии

```sh
ovm install stable
ovm use stable
```

#### Установка тестовой версии

```sh
ovm install preview
ovm use preview
```

#### Переключение между версиями

Переключаться между версиями можно в любой момент с помощью команды `ovm use <идентификатор версии>`

Чтобы узнать, какие версии вообще сейчас есть в наличии на машине, используйте `ovm ls`

## Ручная установка

Для ручной установки требуется определиться с типом дистрибутива. На данный момент существуют 2 категории дистрибутивов:

* SCD (self-contained-deployment) - самостоятельный дистрибутив для конкретной операционной системы
* FDD (framework-dependent-deployment) - универсальный дистрибутив, не зависящий от ОС, но требующий установки .NET на целевой машине

Если вам нужно "просто OneScript" ставьте SCD для вашей ОС. Если вы, например, собираете docker-образ, в котором уже есть .NET нужной версии, то полный дистрибутив SCD вам не нужен, и вам будет достаточно маленького легковесного FDD.

Также, вам будет достаточно FDD, если у вас на машине уже стоит .NET нужной версии.

Дистрибутивы расположены на [странице загрузок](/downloads/). Выберите нужный, распакуйте его в любую папку, пропишите в PATH путь к запуску oscript. Установка завершена.

## Проверка работы

Создайте текстовый файл и напишите в нем

```bsl
Сообщить("Привет, OneScript!");
```

Сохраните файл с расширением `.os`, например, `test.os`

Откройте консоль и вызовите выполнение этого скрипта

```sh
oscript test.os
```

В консоль должно вывестись `Привет, OneScript!`

## Особенности установки

### Linux

Может потребоваться установить права на запуск исполняемого файла.

```sh
chmod +x $каталог_распаковки/bin/oscript
```

Запуск варианта SCD, который не зависит от установки фреймворка .NET может потребовать наличия библиотек ICU и tzdata, которые в системе могут быть, а могут и не быть. 

```sh
# Точное имя пакета может отличаться для разных дистрибутивов Linux
sudo apt install tzdata libicu74
```

Если установка библиотек ICU невозможна, то предусмотрен вариант отключения глобализации вообще на уровне конфигурационного файла, хотя это может привести к ограничению возможностей по локализации. Подробнее см. [https://learn.microsoft.com/en-us/dotnet/core/runtime-config/globalization](https://learn.microsoft.com/en-us/dotnet/core/runtime-config/)

Также, в системе могут отсутствовать и какие-то другие пакеты, необходимые для работы приложений .NET, этот список может быть разным, в зависимости от дистрибутива, который вы используете. Рекомендуем обращаться к официальной документации Microsoft по запуску на разных ОС.

* [Для Ubuntu](https://learn.microsoft.com/en-us/dotnet/core/install/linux-ubuntu-decision#dependencies)
* [Для Debian](https://learn.microsoft.com/en-us/dotnet/core/install/linux-debian?tabs=dotnet8#dependencies)
* [Для CentOS](https://learn.microsoft.com/en-us/dotnet/core/install/linux-rhel#dependencies)
* [Для Fedora](https://learn.microsoft.com/en-us/dotnet/core/install/linux-fedora?tabs=dotnet8#dependencies)

В варианте для Docker можно использовать образ `mcr.microsoft.com/dotnet/runtime-deps:8.0` где уже собраны все зависимости для запуска SCD-дистрибутивов

### MacOS

Потребуется выполнить донастройку для снятия карантина и подписи:

```sh
chmod +x ./oscript
xattr -d com.apple.quarantine *.dylib oscript
codesign -s - ./oscript
```

В остальном запуск должен быть идентичен запуску на Linux. Сверяйтесь с [официальной документацией Microsoft](https://learn.microsoft.com/en-us/dotnet/core/install/macos)